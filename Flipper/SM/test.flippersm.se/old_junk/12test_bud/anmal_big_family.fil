<style type="text/css">
input.frmText {background-color: white;
border: 1px solid #000000;}

input.frmTextReadonly {background-color: #D2D0D0;
padding: 2px;
font-weight: bold;
border: 1px solid #922020;}

input.frmButton {color: #eee;
font-family: arial;
font-weight: bold;
background-color: #8E8E8B;
border: 0px;
padding: 1px;}

</style>

<SCRIPT LANGUAGE="JavaScript">

strTryck = "";
strStorlek = "";
intAnmalanpris = 900;   // anmälningsavgiften
intTrojpris = 100;      // tröjornas styckpris
intClassicspris = 100;  // classics anmälningsavgift

var captcha = 0;

function setCaptcha(capt,frm) {
captcha = capt;
document.getElementById('flippertal').value = captcha;

}


// räknar ut aktuella prisuppgifter
function update_price(frm)
   {
   intTotalShirts = Number(frm.selSmall.value) + Number(frm.selMedium.value) + Number(frm.selLarge.value) + Number(frm.selXL.value) + Number(frm.selXXL.value) + Number(frm.selXXXL.value);

	 if (frm.txtTagu182.value == '')
   {
			Totalpris = 900;
			if (intTotalShirts >3) 
			{
				Totalpris = 900 + (intTotalShirts-3)*100;
			}
	 }
	 else {
			Totalpris = 1000;
			if (intTotalShirts >4) 
			{
				Totalpris = 1000 + (intTotalShirts-4)*100;
			}
	 }
	
	 return Totalpris;
}

function checkRegistration(frm)
   {
// kollar så att denna anmälan är fullständig
   ok = true;
   
   if((!frm.txtTag.value.length || isBlank(frm.txtTag.value)) && ok)
      {
      alert("Uppgifter saknas! Du måste ange din tag.");
      frm.txtTag.focus();
      ok = false;
      }
   
   if((!frm.txtTagvx2.value.length || isBlank(frm.txtTagvx2.value)) && ok)
      {
      alert("Uppgifter saknas! Du måste ange din tag.");
      frm.txtTagvx2.focus();
      ok = false;
      }

   if((!frm.txtTagu18.value.length || isBlank(frm.txtTagu18.value)) && ok)
      {
      alert("Uppgifter saknas! Du måste ange din tag.");
      frm.txtTagu18.focus();
      ok = false;
      }

   if((!frm.txtFirstname.value.length || isBlank(frm.txtFirstname.value)) && ok)
      {
      alert("Uppgifter saknas! Du måste ange ditt förnamn.");
      frm.txtFirstname.focus();
      ok = false;
      }
   
   if((!frm.txtFirstnamevx2.value.length || isBlank(frm.txtFirstnamevx2.value)) && ok)
      {
      alert("Uppgifter saknas! Du måste ange ditt förnamn.");
      frm.txtFirstnamevx2.focus();
      ok = false;
      }

   if((!frm.txtFirstnameu18.value.length || isBlank(frm.txtFirstnameu18.value)) && ok)
      {
      alert("Uppgifter saknas! Du måste ange ditt förnamn.");
      frm.txtFirstnameu18.focus();
      ok = false;
      }

   if((!frm.txtLastname.value.length || isBlank(frm.txtLastname.value)) && ok)
      {
      alert("Uppgifter saknas! Du måste ange ditt efternamn.");
      frm.txtLastname.focus();
      ok = false;
      }

   if((!frm.txtLastnamevx2.value.length || isBlank(frm.txtLastnamevx2.value)) && ok)
      {
      alert("Uppgifter saknas! Du måste ange ditt efternamn.");
      frm.txtLastnamevx2.focus();
      ok = false;
      }

   if((!frm.txtLastnameu18.value.length || isBlank(frm.txtLastnameu18.value)) && ok)
      {
      alert("Uppgifter saknas! Du måste ange ditt efternamn.");
      frm.txtLastnameu18.focus();
      ok = false;
      }
   
   if((!frm.txtAddress.value.length || isBlank(frm.txtAddress.value)) && ok)
      {
      alert("Uppgifter saknas! Du måste ange din adress.");
      frm.txtAddress.focus();
      ok = false;
      }
   
   if((!frm.txtCity.value.length || isBlank(frm.txtCity.value)) && ok)
      {
      alert("Uppgifter saknas! Du måste ange din hemstad.");
      frm.txtCity.focus();
      ok = false;
      }
   
   if((frm.txtPhone.value.length<9 || isBlank(frm.txtPhone.value)) && ok)
      {
      alert("Uppgifter saknas! Du måste ange ditt telefonnummer inklusive riktnummer.");
      frm.txtPhone.focus();
      ok = false;
      }
   
   if((!frm.txtEmail.value.length || isBlank(frm.txtEmail.value) || frm.txtEmail.value.indexOf("@")==-1) && ok)
      {
      alert("Uppgifter saknas! E-postadress saknas eller är felaktig.");
      frm.txtEmail.focus();
      ok = false;
      }
   
   if((frm.txtSpam.value != captcha) && ok)
      {
      alert("Du har fyllt i fel nummer. Försök igen.");
      frm.txtSpam.focus();
      ok = false;
      }

	
		var returen = get_radio_value();
		if (returen != 6)
		{
    alert("Du bör fylla i exakt tre olika önskemål (1, 2, 3) gällande kvalpass.");
		ok = false;
    }	
   
// all seems to be ok, go ahead with registration (spam protection is checked in next file)
   if(ok)
     {
     frm.submit();
     }
   
   return ok;
   }


function get_radio_value()
{
	var kvp1 = 0;
	var kvp2 = 0;
	var kvp3 = 0;
	var kvp4 = 0;
	var kvp5 = 0;

	for (var i=0; i < document.frmRegistration.pass1.length; i++)
  	 {
  	 if (document.frmRegistration.pass1[i].checked)
  	    {
				kvp1 = document.frmRegistration.pass1[i].value;
  	    }
  	 }
	for (var i=0; i < document.frmRegistration.pass2.length; i++)
  	 {
  	 if (document.frmRegistration.pass2[i].checked)
  	    {
  	    kvp2 = document.frmRegistration.pass2[i].value;
  	    }
  	 }
	for (var i=0; i < document.frmRegistration.pass3.length; i++)
  	 {
  	 if (document.frmRegistration.pass3[i].checked)
  	    {
  	    kvp3 = document.frmRegistration.pass3[i].value;
  	    }
  	 }
	for (var i=0; i < document.frmRegistration.pass4.length; i++)
  	 {
  	 if (document.frmRegistration.pass4[i].checked)
  	    {
  	    kvp4 = document.frmRegistration.pass4[i].value;
  	    }
  	 }
	for (var i=0; i < document.frmRegistration.pass5.length; i++)
  	 {
  	 if (document.frmRegistration.pass5[i].checked)
  	    {
  	    kvp5 = document.frmRegistration.pass5[i].value;
  	    }
  	 }
	var returen = Number(kvp1) + Number(kvp2) + Number(kvp3) + Number(kvp4) + Number(kvp5);
	return returen;
	}




function clearRegistration(frm)
   {
   frm.txtTag.value       = "";
   frm.txtFirstname.value = "";
   frm.txtLastname.value  = "";
   frm.txtTagvx2.value       = "";
   frm.txtFirstnamevx2.value = "";
   frm.txtLastnamevx2.value  = "";
   frm.txtTagu18.value       = "";
   frm.txtFirstnameu18.value = "";
   frm.txtLastnameu18.value  = "";
   frm.txtTagu182.value       = "";
   frm.txtFirstnameu182.value = "";
   frm.txtLastnameu182.value  = "";
   frm.txtAddress.value   = "";
   frm.txtCity.value      = "";
   frm.txtPhone.value     = "";
   frm.txtEmail.value     = "";
   
   frm.pass1[0].checked = false;
   frm.pass1[1].checked = false;
   frm.pass1[2].checked = false;
   frm.pass2[0].checked = false;
   frm.pass2[1].checked = false;
   frm.pass2[2].checked = false;
   frm.pass3[0].checked = false;
   frm.pass3[1].checked = false;
   frm.pass3[2].checked = false;
   frm.pass4[0].checked = false;
   frm.pass4[1].checked = false;
   frm.pass4[2].checked = false;
   frm.pass5[0].checked = false;
   frm.pass5[1].checked = false;
   frm.pass5[2].checked = false;

   frm.chkMain.checked = false;
   frm.chkClassic.checked = false;

   frm.chkMainvx2.checked = false;
   frm.chkClassicvx2.checked = false;

   frm.chkMainu18.checked = false;
   frm.chkClassicu18.checked = false;
   
   frm.chkMainu182.checked = false;
   frm.chkClassicu182.checked = false;

   intBestallning     = 0;
   frm.txtOrder.value = "";
   frm.txtPris.value = intAnmalanpris + " kr";
   
   frm.txtMessage.value = "";
   
   frm.txtSpam.value = "";
   }

function uncheckAll(f)
{
for (x=0;x<f.elements.length;x++)
    {
    if (f.elements[x].type == "radio")
    {
    f.elements[x].checked = false; 
    }
    }
}



// Javascript Trim Stand-Alone Function
// http://www.somacon.com/p355.php
function trim(stringToTrim) {
	return stringToTrim.replace(/^\s+|\s+$/g,"");
}

//-------------------------------------------------------------------
// isInteger(value)
//   Returns true if value contains all digits
//-------------------------------------------------------------------
function isInteger(val)
   {
   if(isBlank(val))
      return false;
   for(var c=0; c<val.length; c++)
      {
	if(!isDigit(val.charAt(c)))
         return false;
      }
   return true;
   }

//-------------------------------------------------------------------
// isBlank(value)
//   Returns true if value only contains spaces
//-------------------------------------------------------------------
function isBlank(val)
   {
   if(val == null)
      return true;
   for(var c=0; c<val.length;c++)
      {
      if((val.charAt(c)!=' ') && (val.charAt(c)!="\t") && (val.charAt(c)!="\n") && (val.charAt(c)!="\r"))
         return false;
      }
   return true;
   }

//-------------------------------------------------------------------
// isDigit(value)
//   Returns true if value is a 1-character digit
//-------------------------------------------------------------------
function isDigit(num)
   {
   if(num.length > 1)
      return false;
   var string = "1234567890";
   if(string.indexOf(num) != -1)
      return true;
   return false;
   }


</script>


<h1>Anm&auml;lan - STOR Familj</h1>

<?php

undermenu("anmal");

?>

<div class = 'spalt'>


<form action = '?s=bekraftelse_big_family' method = 'post' name='frmRegistration'>
<input type="hidden" name="flippertal" id="flippertal" value="" />


<h2>Den som betalar</h2>
<label for = 'tag'>TAG</label>
<input type = 'text' name = 'txtTag' value = '' maxlength='3' size='3'>

<label for = 'fnamn'>Förnamn</label>
<input type = 'text' name = 'txtFirstname' value = ''>

<label for = 'enamn'>Efternamn</label>
<input type = 'text' name = 'txtLastname' value = ''>

<label for = 'adress'>Adress</label>
<input type = 'text' name = 'txtAddress' value = ''>

<label for = 'ort'>Ort</label>
<input type = 'text' name = 'txtCity' value = ''>

<label for = 'telefon'>Telefon</label>
<input type = 'text' name = 'txtPhone' value = ''>

<label for = 'epost'>Epost</label>
<input type = 'text' name = 'txtEmail' value = ''>

<label for = 'klasser'>Klasser (Kryssa i de du vill/kan tävla i.)</label>
<input type = 'checkbox' name = 'chkMain' checked = 'checked' > Main<br />
<input type = 'checkbox' name = 'chkClassic' checked = 'checked' > Classic<br />
<p>
</div>

<div class = 'spalt'>

<h2>Den andre äldre</h2>
<label for = 'tag'>TAG</label>
<input type = 'text' name = 'txtTagvx2' value = '' maxlength='3' size='3'>

<label for = 'fnamn'>Förnamn</label>
<input type = 'text' name = 'txtFirstnamevx2' value = ''>

<label for = 'enamn'>Efternamn</label>
<input type = 'text' name = 'txtLastnamevx2' value = ''>

<label for = 'klasser'>Klasser (Kryssa i de du vill/kan tävla i.)</label>
<input type = 'checkbox' name = 'chkMainvx2' checked = 'checked' > Main<br />
<input type = 'checkbox' name = 'chkClassicvx2' checked = 'checked' > Classic<br />
<p>
</div>
<br class = 'clearboth'>

<div class = 'spalt'>

<h2>Ungdom 1</h2>
<label for = 'tag'>TAG</label>
<input type = 'text' name = 'txtTagu18' value = '' maxlength='3' size='3'>

<label for = 'fnamn'>Förnamn</label>
<input type = 'text' name = 'txtFirstnameu18' value = ''>

<label for = 'enamn'>Efternamn</label>
<input type = 'text' name = 'txtLastnameu18' value = ''>


<label for = 'klasser'>Klasser (Kryssa i de du vill/kan tävla i.)</label>
<input type = 'checkbox' name = 'chkMainu18' checked = 'checked' > Main<br />
<input type = 'checkbox' name = 'chkClassicu18' checked = 'checked' > Classic<br />
<input type = 'checkbox' name = 'chkU18u18' checked = 'checked' > U18

</div>

<div class = 'spalt'>

<h2>Ungdom 2</h2>
<label for = 'tag'>TAG</label>
<input type = 'text' name = 'txtTagu182' value = '' maxlength='3' size='3' onchange = "txtPris.value=update_price(this.form)+' kr';">

<label for = 'fnamn'>Förnamn</label>
<input type = 'text' name = 'txtFirstnameu182' value = ''>

<label for = 'enamn'>Efternamn</label>
<input type = 'text' name = 'txtLastnameu182' value = ''>


<label for = 'klasser'>Klasser (Kryssa i de du vill/kan tävla i.)</label>
<input type = 'checkbox' name = 'chkMainu182' checked = 'checked' > Main<br />
<input type = 'checkbox' name = 'chkClassicu182' checked = 'checked' > Classic<br />
<input type = 'checkbox' name = 'chkU18u182' checked = 'checked' > U18

</div>

<br class = 'clearboth'>
<div class = 'bred'>
<hr />

<label for = '123'>Välj vilket kvalpass ni helst vill ha (om ni vill kvala på olika tider, skriv då i "meddelande" längre ned.)</label>
</div>

<table name = '123' class = 'regler'><tr><th class = 'regler' width = '200px'>Kvalpass<th width = 15%>Helst<th width = 15%>I andra hand<th width = 15%>I tredje hand
<tr><td class = 'regler'>Fredag kl 16 - 20<td><input type = 'radio' name = 'pass1' value = 1><td><input type = 'radio' name = 'pass1' value = '2'><td><input type = 'radio' name = 'pass1' value = '3'>
<tr><td class = 'regler'>Fredag kl 20 - 24<td><input type = 'radio' name = 'pass2' value = '1'><td><input type = 'radio' name = 'pass2' value = 2><td><input type = 'radio' name = 'pass2' value = '3'>
<tr><td class = 'regler'>Lördag kl 10 - 14<td><input type = 'radio' name = 'pass3' value = '1'><td><input type = 'radio' name = 'pass3' value = '2'><td><input type = 'radio' name = 'pass3' value = 3>
<tr><td class = 'regler'>Lördag kl 14 - 18<td><input type = 'radio' name = 'pass4' value = '1'><td><input type = 'radio' name = 'pass4' value = '2'><td><input type = 'radio' name = 'pass4' value = '3'>
<tr><td class = 'regler'>Lördag kl 18 - 22<td><input type = 'radio' name = 'pass5' value = '1'><td><input type = 'radio' name = 'pass5' value = '2'><td><input type = 'radio' name = 'pass5' value = '3'>
</table>

<div class = 'bred'>
<p><input type='button' class='frmButton' name='ClearRadio' onClick='uncheckAll(this.form);' value='Rensa våra val gällande kvaltider!'></p>

<p>När betalning kommit in placerar vi er på ert förstahandsval, om där finns plats. Är det passet fullt får ni erat andrahandsval och så vidare. <br />Sensmoralen är att ni bör betala er anmälningsavgift i god tid.</p>
<hr />

<h2>SM-tr&ouml;jan</h2>

<p>H&auml;r kan ni k&ouml;pa &aring;rets SM-tr&ouml;ja. Ni h&auml;mtar ut tr&ouml;jorna p&aring; plats p&aring; SM. En t-shirt per person ingår i paketet, därutöver 100 kr/st. <br /><strong>OBS. T-shirten på bilden är från 2011. Årets design är ännu inte klar.</strong><br/><br/>
</p>



<img src="bilder/diverse/sm2011_t-shirt.png" class="tshirt" alt="Skiss av &aring;rets SM-tr&ouml;ja" />

<p>
<strong>Small: </strong><br/>
<select name="selSmall" onChange="txtPris.value=update_price(this.form)+' kr';">
	<option value="0">0</option>
	<option value="1">1</option>
	<option value="2">2</option>
	<option value="3">3</option>
	<option value="4">4</option>
	<option value="5">5</option>
</select>
&nbsp;&nbsp;&nbsp;

<br/><br/>

<strong>Medium: </strong><br/>

<select name="selMedium" onChange="txtPris.value=update_price(this.form)+' kr';">
	<option value="0">0</option>
	<option value="1">1</option>
	<option value="2">2</option>
	<option value="3">3</option>
	<option value="4">4</option>
	<option value="5">5</option>
</select>
&nbsp;&nbsp;&nbsp;

<br/><br/>

<strong>Large: </strong><br/>
<select name="selLarge" onChange="txtPris.value=update_price(this.form)+' kr';">
	<option value="0">0</option>
	<option value="1">1</option>
	<option value="2">2</option>
	<option value="3">3</option>
	<option value="4">4</option>
	<option value="5">5</option>
</select>
&nbsp;&nbsp;&nbsp;

<br/><br/>

<strong>XL: </strong><br/>

<select name="selXL" onChange="txtPris.value=update_price(this.form)+' kr';">
	<option value="0">0</option>
	<option value="1">1</option>
	<option value="2">2</option>
	<option value="3">3</option>
	<option value="4">4</option>
	<option value="5">5</option>
</select>
&nbsp;&nbsp;&nbsp;

<br/><br/>

<strong>XXL: </strong><br/>

<select name="selXXL" onChange="txtPris.value=update_price(this.form)+' kr';">
	<option value="0">0</option>
	<option value="1">1</option>
	<option value="2">2</option>
	<option value="3">3</option>
	<option value="4">4</option>
	<option value="5">5</option>
</select>
&nbsp;&nbsp;&nbsp;

<br/><br/>

<strong>XXXL:</strong><br/>

<select name="selXXXL" onChange="txtPris.value=update_price(this.form)+' kr';">
	<option value="0">0</option>
	<option value="1">1</option>
	<option value="2">2</option>
	<option value="3">3</option>
	<option value="4">4</option>
	<option value="5">5</option>
</select>
</p>


<hr/>

<h2>Meddelande</h2>
<p>Om du vill l&auml;mna n&aring;got s&auml;rskilt meddelande till arrang&ouml;rerna i samband med din anm&auml;lan kan du skriva det h&auml;r.<br/><br/>
<textarea name='txtMessage' wrap='physical' cols='40' rows='6'></textarea></p>

<hr/>

<h2>Skicka anm&auml;lan</h2>
<p>F&ouml;r att h&aring;lla borta robotar som g&ouml;r falska anm&auml;lningar ber vi dig skriva f&ouml;ljande nummer i rutan nedan:</p>

<p><span id="captcha"></span></p>

<p>Ser du inte vad det st&aring;r? <a href="javascript:randCaptcha()">Klicka h&auml;r f&ouml;r f&aring; ett nytt nummer.</a></p>

<script language="JavaScript">

var intCaptcha1 = Math.floor(Math.random()*10);
var intCaptcha2 = Math.floor(Math.random()*10);
var intCaptcha3 = Math.floor(Math.random()*10);
var intCaptcha4 = Math.floor(Math.random()*10);
var intCaptcha5 = Math.floor(Math.random()*10);

document.getElementById("captcha").innerHTML = "<img src=\"bilder/layout/nummer/"+intCaptcha1+".jpg\" alt=\"\" />";
document.getElementById("captcha").innerHTML += "<img src=\"bilder/layout/nummer/"+intCaptcha2+".jpg\" alt=\"\" />";
document.getElementById("captcha").innerHTML += "<img src=\"bilder/layout/nummer/"+intCaptcha3+".jpg\" alt=\"\" />";
document.getElementById("captcha").innerHTML += "<img src=\"bilder/layout/nummer/"+intCaptcha4+".jpg\" alt=\"\" />";
document.getElementById("captcha").innerHTML += "<img src=\"bilder/layout/nummer/"+intCaptcha5+".jpg\" alt=\"\" />";

var intTotalCaptcha = String(intCaptcha1) + String(intCaptcha2) + String(intCaptcha3) + String(intCaptcha4) + String(intCaptcha5);

setCaptcha(intTotalCaptcha);



function randCaptcha() {
var intCaptcha1 = Math.floor(Math.random()*10);
var intCaptcha2 = Math.floor(Math.random()*10);
var intCaptcha3 = Math.floor(Math.random()*10);
var intCaptcha4 = Math.floor(Math.random()*10);
var intCaptcha5 = Math.floor(Math.random()*10);

document.getElementById("captcha").innerHTML = "<img src=\"bilder/layout/nummer/"+intCaptcha1+".jpg\" alt=\"\" />";
document.getElementById("captcha").innerHTML += "<img src=\"bilder/layout/nummer/"+intCaptcha2+".jpg\" alt=\"\" />";
document.getElementById("captcha").innerHTML += "<img src=\"bilder/layout/nummer/"+intCaptcha3+".jpg\" alt=\"\" />";
document.getElementById("captcha").innerHTML += "<img src=\"bilder/layout/nummer/"+intCaptcha4+".jpg\" alt=\"\" />";
document.getElementById("captcha").innerHTML += "<img src=\"bilder/layout/nummer/"+intCaptcha5+".jpg\" alt=\"\" />";

var intTotalCaptcha = String(intCaptcha1) + String(intCaptcha2) + String(intCaptcha3) + String(intCaptcha4) + String(intCaptcha5);

setCaptcha(intTotalCaptcha);
}

</script>



<input type='text' class='frmText' name='txtSpam' value='' maxlength='5' size='6' onChange='txtSpam.value = trim(txtSpam.value); return true;'></p>


<h3>Totalpris</h3>
<p>(Anm&auml;lan samt ev. tr&ouml;jor)</p>
<p><input type='text' class='frmTextReadonly' name='txtPris' size='10' maxLength='9' value='900 kr' readonly>
</p>

<br/>
<p><input type='button' class='frmButton' value='Anm&auml;l dig' onClick='return checkRegistration(this.form);'> &nbsp; &nbsp; <input type='button' class='frmButton' name='btnClear' onClick='return clearRegistration(this.form);' value='Rensa formul&auml;ret'></p>


</form>

</div>

